(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(6),n=c.n(a),i=c(42),r=c.n(i),s=(c(50),c(51),c(52),c(20)),o=(c(53),c(3));var l=function(e){return Object(o.jsx)("svg",Object(s.a)(Object(s.a)({className:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 459.529 459.529"},e),{},{children:Object(o.jsx)("path",{d:"M17 55.231h48.733l69.417 251.033c1.983 7.367 8.783 12.467 16.433 12.467h213.35c6.8 0 12.75-3.967 15.583-10.2l77.633-178.5c2.267-5.383 1.7-11.333-1.417-16.15-3.117-4.817-8.5-7.65-14.167-7.65H206.833c-9.35 0-17 7.65-17 17s7.65 17 17 17H416.5l-62.9 144.5H164.333L94.917 33.698c-1.983-7.367-8.783-12.467-16.433-12.467H17c-9.35 0-17 7.65-17 17s7.65 17 17 17zM135.433 438.298c21.25 0 38.533-17.283 38.533-38.533s-17.283-38.533-38.533-38.533S96.9 378.514 96.9 399.764s17.283 38.534 38.533 38.534zM376.267 438.298h2.833c10.2-.85 19.55-5.383 26.35-13.317 6.8-7.65 9.917-17.567 9.35-28.05-1.417-20.967-19.833-37.117-41.083-35.7-21.25 1.417-37.117 20.117-35.7 41.083 1.416 20.117 18.133 35.984 38.25 35.984z"})}))},j=c(13);var d=function(){return Object(o.jsxs)("nav",{className:"nav",children:[Object(o.jsx)(j.b,{className:"nombre",to:"/home",children:"Example"}),Object(o.jsxs)("div",{className:"caja",children:[Object(o.jsx)(j.b,{className:"catalogo",to:"/home",children:"Cat\xe1logo"}),Object(o.jsx)(j.b,{className:"tomos-pares",to:"/category/tomos-pares",children:"Novedades"}),Object(o.jsx)(j.b,{className:"icon-cart",to:"/cart",children:Object(o.jsx)(l,{})})]})]})},b=c(11),u=c(18),m=c(1),O=c(2),h=c(44),x=c(21);Object(h.a)({apiKey:"AIzaSyC-_-abeFI3TrtwVKHFhBDfJJBwxoDd5Bo",authDomain:"e-commerce-42c72.firebaseapp.com",projectId:"e-commerce-42c72",storageBucket:"e-commerce-42c72.appspot.com",messagingSenderId:"465069164960",appId:"1:465069164960:web:ac53683e1669745dca7cc5"});var f=Object(x.f)(),v=function(){function e(){Object(m.a)(this,e)}return Object(O.a)(e,null,[{key:"isValidString",value:function(e){return"string"===typeof e&&""!==e}},{key:"isValid",value:function(e){return""!==e}},{key:"isValidOptions",value:function(e){if("object"===typeof e){var t=this.isValidString(e.field),c=this.isValidString(e.condition),a=this.isValid(e.value);return t&&c&&a}return!1}}]),e}(),p=function(){function e(){Object(m.a)(this,e)}return Object(O.a)(e,null,[{key:"getCollection",value:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];return x.b.apply(void 0,[f].concat(t))}},{key:"getDoc",value:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];return x.c.apply(void 0,[f].concat(t))}},{key:"get",value:function(e){var t=e.split("/"),c=this.getDoc.apply(this,Object(u.a)(t));return Object(x.d)(c)}},{key:"getAll",value:function(e,t){var c=e.split("/"),a=this.getCollection.apply(this,Object(u.a)(c));return v.isValidOptions(t)?Object(x.e)(Object(x.g)(a,Object(x.j)(t.field,t.condition,t.value))):Object(x.e)(a)}},{key:"set",value:function(e,t){var c=e.split("/");return Object(x.i)(this.getDoc.apply(this,Object(u.a)(c)),t)}},{key:"add",value:function(e,t){var c=e.split("/"),a=this.getCollection.apply(this,Object(u.a)(c));return Object(x.a)(a,t)}},{key:"transaction",value:function(e){return Object(x.h)(f,e)}},{key:"batch",value:function(){return Object(x.k)(f)}}]),e}();c(61);var N=function(e){var t=e.title,c=e.price,a=e.pictureUrl,n=e.id;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"item",children:[Object(o.jsx)(j.b,{to:"/item/".concat(n),children:Object(o.jsx)("img",{src:a,className:"img"})}),Object(o.jsx)("div",{className:"title margin",children:t}),Object(o.jsxs)("div",{className:"price margin",children:["$",c]}),Object(o.jsxs)("div",{className:"contenedor-botones",children:[Object(o.jsx)(j.b,{to:"/item/".concat(n),children:Object(o.jsx)("button",{className:"comprar",children:"Comprar"})}),Object(o.jsx)(j.b,{to:"/item/".concat(n),children:Object(o.jsx)("button",{className:"ver-mas",children:"Ver m\xe1s"})})]})]})})};c(62);var g=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){p.getAll("catalogue").then((function(e){var t=[];e.forEach((function(e){var c=e.data();t.push(Object(o.jsx)(N,{id:e.id,title:c.title,price:c.price,pictureUrl:c.pictureUrl},e.id))})),n(t)}))}),[]),Object(o.jsx)("section",{children:Object(o.jsx)("div",{className:"contenedor-items",children:c})})};var y=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(g,{})})},C=c(12);c(63),c(64);var S=function(e){var t=e.stock,c=e.onAdd,n=e.initial,i=Object(a.useState)(n),r=Object(b.a)(i,2),s=r[0],l=r[1];return Object(a.useEffect)((function(){c(s)}),[s]),Object(o.jsx)("div",{className:"contenedor",children:Object(o.jsxs)("div",{className:"contador",children:[Object(o.jsx)("button",{className:"botones",onClick:function(){s>n&&l(s-1)},children:"-"}),Object(o.jsx)("div",{className:"cantidad",children:s}),Object(o.jsx)("button",{className:"botones",onClick:function(){s<t&&l(s+1)},children:"+"})]})})},k=c(10),I=c(70),D=Object(a.createContext)(),z=function(){return Object(a.useContext)(D)},F=function(e){var t=Object(a.useState)([]),c=Object(b.a)(t,2),n=c[0],i=c[1],r=function(e){return null!=(null===n||void 0===n?void 0:n.find((function(t){return t.id===e.id})))},l=function(){return n.reduce((function(e,t){return e+t.quantity}),0)},j=function(){return n.reduce((function(e,t){return e+t.price*t.quantity}),0)},d={items:[n],date:(new Date).toString(),totalItems:l(),totalPrice:j(),IDOrder:Object(I.a)()},m=Object(a.useState)(Object(s.a)(Object(s.a)({},d),{},{name:"",email:"",emailConfirm:"",phone:""})),O=Object(b.a)(m,2),h=O[0],x=O[1];return Object(o.jsx)(D.Provider,{value:{addItem:function(e,t){r(e)?n.map((function(c){if(c.id===e.id)return c.quantity+=t})):i((function(c){return[].concat(Object(u.a)(c),[Object(s.a)(Object(s.a)({},e),{},{quantity:t})])}))},removeItem:function(e){var t=n.filter((function(t){return t!==e}));i(t)},clear:function(){i([]),x(Object(s.a)(Object(s.a)({},d),{},{name:"",email:"",emailConfirm:"",phone:""}))},products:n,totalItems:l,totalPrice:j,updateDatos:function(e){e.preventDefault(),x(Object(s.a)(Object(s.a)(Object(s.a)({},h),d),{},Object(k.a)({},e.target.name,e.target.value)))},enviarDatos:function(e){e.preventDefault()},orderState:h},children:e.children})};var w=function(e){var t=e.objeto,c=z().addItem,n=Object(a.useState)(!0),i=Object(b.a)(n,2),r=i[0],s=i[1],l=Object(a.useState)(!0),d=Object(b.a)(l,2),u=d[0],m=d[1],O=Object(a.useState)(0),h=Object(b.a)(O,2),x=h[0],f=h[1];return Object(o.jsx)("div",{className:"return-item-detail",children:Object(o.jsxs)("div",{className:"container-detail",children:[Object(o.jsx)("img",{src:t.pictureUrl,className:"img-detail"}),Object(o.jsxs)("div",{className:"informacion-detail",children:[Object(o.jsx)("div",{className:"title-detail",children:t.title}),Object(o.jsx)("div",{className:"description-detail",children:t.description}),Object(o.jsxs)("div",{className:"price-detail",children:["$",t.price]}),r&&Object(o.jsx)(S,{stock:10,initial:0,onAdd:function(e){f(e)}}),u&&Object(o.jsx)("button",{onClick:function(){return c(t,x),s(!1),void m(!1)},className:"boton-carrito",disabled:0===x,children:"Agregar al carrito"}),!u&&Object(o.jsxs)("div",{className:"contenedor-terminar-compra",children:[Object(o.jsx)(j.b,{to:"/cart",children:Object(o.jsx)("button",{className:"boton-terminar",children:"Terminar compra"})}),Object(o.jsx)(j.b,{to:"/home",children:Object(o.jsx)("button",{className:"volver-tienda-detail",children:"Volver a la tienda"})})]})]})]})})};function V(){var e=Object(a.useState)(),t=Object(b.a)(e,2),c=t[0],n=t[1],i=Object(C.f)().itemId;return j.b,"/item/".concat(i),Object(a.useEffect)((function(){p.get("catalogue/".concat(i)).then((function(e){var t=e.data();n(Object(o.jsx)(w,{id:e.id,objeto:t}))}))}),[]),Object(o.jsx)(o.Fragment,{children:c})}var $=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){p.getAll("catalogue",{field:"category",condition:"==",value:"another"}).then((function(e){var t=[];e.forEach((function(e){var c=e.data();t.push(Object(o.jsx)(N,{id:e.id,title:c.title,price:c.price,pictureUrl:c.pictureUrl},e.id))})),n(t)}))}),[]),Object(o.jsx)("section",{className:"contenedor-items",children:c})};c(65),c(66);var E=function(){var e=z(),t=e.updateDatos,c=e.enviarDatos,n=e.orderState,i=Object(a.useState)(!1),r=Object(b.a)(i,2),s=r[0],l=r[1],d=Object(a.useState)(!0),u=Object(b.a)(d,2),m=u[0],O=u[1],h=Object(a.useState)(!1),x=Object(b.a)(h,2),f=x[0],v=x[1];return Object(o.jsxs)("div",{className:"contenedor-form",children:[Object(o.jsx)("div",{className:"contenedor-input",children:Object(o.jsxs)("div",{className:"input-data",children:[Object(o.jsx)("label",{className:"label-form",children:"Nombre"}),Object(o.jsx)("input",{type:"text",onChange:function(e){return t(e)},name:"name",className:"input-form",disabled:s})]})}),Object(o.jsx)("div",{className:"contenedor-input",children:Object(o.jsxs)("div",{className:"input-data",children:[Object(o.jsx)("label",{className:"label-form",children:"Tel\xe9fono"}),Object(o.jsx)("input",{type:"text",onChange:function(e){return t(e)},name:"phone",className:"input-form",disabled:s})]})}),Object(o.jsx)("div",{className:"contenedor-input",children:Object(o.jsxs)("div",{className:"input-data",children:[Object(o.jsx)("label",{className:"label-form",children:"Email"}),Object(o.jsx)("input",{type:"email",onChange:function(e){return t(e)},name:"email",className:"input-form",disabled:s})]})}),Object(o.jsx)("div",{className:"contenedor-input",children:Object(o.jsxs)("div",{className:"input-data",children:[Object(o.jsx)("label",{className:"label-form",children:"Confirmar email"}),Object(o.jsx)("input",{type:"text",onChange:function(e){return t(e)},name:"emailConfirm",className:"input-form",disabled:s})]})}),m&&Object(o.jsx)("button",{onClick:function(){var e,t;""!==n.name&&(t=n.phone,/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(t))&&(e=n.email,/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(e))&&n.email==n.emailConfirm?(l(!0),O(!1),v(!1)):v(!0)},className:"confirmar-datos-pagar",children:"Confirmar datos"}),f&&Object(o.jsx)("div",{className:"campo",children:"Todos los campos son obligatorios."}),Object(o.jsx)(j.b,{to:"/cart/payment",children:s&&Object(o.jsx)("button",{onSubmit:function(e){return c(e)},className:"confirmar-datos-pagar green",type:"submit",children:"Confirmar pago"})})]})};var A=function(){var e=z(),t=e.removeItem,c=e.products,a=e.clear,n=e.totalItems,i=e.totalPrice;return Object(o.jsx)("div",{className:"bloque-producto",children:c.length>0?Object(o.jsxs)(o.Fragment,{children:[c.map((function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"contenedor-productos",children:[Object(o.jsxs)("h1",{children:[e.title," | $",e.price," - Cantidad: ",e.quantity," unidades"]}),Object(o.jsxs)("div",{className:"contenedor-sumas",children:[Object(o.jsxs)("h1",{children:["$",e.price*e.quantity]}),Object(o.jsx)("button",{className:"boton-eliminar",onClick:function(){return t(e)},children:"Eliminar"})]})]})})})),Object(o.jsxs)("h1",{children:["Subtotal: $",i()," (",n()," unidades)"]}),Object(o.jsx)("button",{className:"vaciar",onClick:a,children:"Vaciar carrito"}),Object(o.jsx)("div",{className:"campo",children:"Ingrese sus datos para proceder al pago."}),Object(o.jsx)("div",{className:"contenedor-pagar-vaciar",children:Object(o.jsx)(E,{})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{className:"no-items",children:"No hay productos en su carrito."}),Object(o.jsx)(j.b,{to:"/home",children:Object(o.jsx)("button",{className:"volver-tienda",children:"Volver a la tienda"})})]})})};c(67);var q=function(){var e=z(),t=e.orderState,c=e.clear;return Object(o.jsxs)("div",{className:"payment",children:[Object(o.jsxs)("div",{className:"contenedor-payment",children:[Object(o.jsx)("div",{className:"pago-realizado",children:"Pago realizado con \xe9xito. \xa1Gracias por su compra!"}),Object(o.jsxs)("div",{className:"id-fecha",children:["ID de la orden: ",t.IDOrder]}),Object(o.jsxs)("div",{className:"id-fecha",children:["Fecha: ",t.date]}),Object(o.jsx)("div",{className:"detalle",children:"Detalle de la orden"}),Object(o.jsx)("div",{children:t.items[0].map((function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"hijos-detalle-orden",children:[e.title," - $",e.price," | ",e.quantity," Unidades"]})})}))}),Object(o.jsxs)("div",{className:"hijos-detalle-orden subtotal",children:["Subtotal: $",t.totalPrice," | ",t.totalItems," Unidades"]}),Object(o.jsx)("div",{className:"detalle",children:"Informaci\xf3n del comprador"}),Object(o.jsx)("div",{className:"comprador",children:t.name}),Object(o.jsx)("div",{className:"comprador",children:t.phone}),Object(o.jsx)("div",{className:"comprador",children:t.email})]}),Object(o.jsx)(j.b,{to:"/home",children:Object(o.jsx)("button",{className:"volver-tienda margin-top",onClick:c,children:"Volver a la tienda"})})]})};var P=function(){return Object(o.jsx)(F,{children:Object(o.jsxs)(j.a,{children:[Object(o.jsx)(d,{}),Object(o.jsxs)(C.c,{children:[Object(o.jsx)(C.a,{exact:!0,path:"/home",children:Object(o.jsx)(y,{})}),Object(o.jsx)(C.a,{exact:!0,path:"/category/:id",children:Object(o.jsx)($,{})}),Object(o.jsx)(C.a,{exact:!0,path:"/item/:itemId",children:Object(o.jsx)(V,{})}),Object(o.jsx)(C.a,{exact:!0,path:"/cart",children:Object(o.jsx)(A,{})}),Object(o.jsx)(C.a,{exact:!0,path:"/cart/payment",children:Object(o.jsx)(q,{})})]})]})})};var U=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(P,{})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),i(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(U,{})}),document.getElementById("root")),B()}},[[68,1,2]]]);
//# sourceMappingURL=main.97be9afb.chunk.js.map